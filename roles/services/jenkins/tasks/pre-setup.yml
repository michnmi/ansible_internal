---
- name: 'pre-setup: Install required packages'
  apt:
    name: '{{ item.name }}'
    state: 'present'
  loop: '{{ jenkins_packages }}'

# Following instructions in https://pkg.jenkins.io/debian-stable/
- name: 'pre-setup: Add jenkins repo key.'
  apt_key:
    url: '{{ jenkins_repo_key }}'
    state: 'present'

- name: 'pre-setup: Add jenkins repo.'
  apt_repository:
    repo: '{{ jenkins_repo }}'
    state: 'present'
    update_cache: true
